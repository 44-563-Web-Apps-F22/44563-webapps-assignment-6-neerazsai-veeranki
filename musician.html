<!DOCTYPE html>
<html>

<head>
    <title>Musician Page</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>

<body>

    <div class="container">
        <div class="page-header">
            <h2>Musician guess by Neerazsai Veeranki</h2>
        </div>
    </div>

    <form>

        <div class="form-group">
            <label for="musicianName">Enter the secret musician name </label>
            <input type="password" id="musicianName" name="musicianName" value="John Lennon"> <br>
        </div>

        <div class="form-group">
            <label for="guessName">Guess the musician </label>
            <input type="text" id="guessName" name="guessName" autofocus> <br>
        </div>

        <input type="button" onclick="checkGuess()" value="Check the guess" id="guessButton" class="btn btn-primary">
    </form>


    <p id="result">Correct/Wrong answer counter! </p>

    <hr>

    <div class="container">
        <img src="images/butterfly.jpg" alt="Butterfly" height="100" width="100" onclick="swapImage(this)" id="image_container" class="img-rounded img-responsive">
    </div>


</body>

<script>

    var correct = 0
    var wrong = 0
    var useImage = 1

    function swapImage() {

        switch(useImage) {
            case 1: document.getElementById("image_container").setAttribute("src", "images/ant.jpg")
                    useImage = 2;
                    break;
            case 2: document.getElementById("image_container").setAttribute("src", "images/butterfly.jpg")
                    useImage = 3;
                    break;
            case 3: document.getElementById("image_container").setAttribute("src", "images/earthworm.jpg")
                    useImage = 1;
                    break;
        }

    }

    function gameOver() {
        document.getElementById("result").innerHTML = "Sorry! Game Over!!!!"
    }

    function checkGuess() {
        console.log("Getting form values")
        name = document.getElementById("musicianName").value
        guess = document.getElementById("guessName").value

        if (name === guess) {
            correct = correct + 1
            wrong = 0
            alert("You got it right!!")
        } else {
            wrong = wrong + 1
            alert("Wrong musician!!")
            if (wrong == 3) {
                document.getElementById("guessButton").setAttribute("onclick", "gameOver()")
            }
        }

        document.getElementById("result").innerHTML = "Wrong guess : " + wrong + "\n Correct guess : " + correct
    }
</script>

</html>